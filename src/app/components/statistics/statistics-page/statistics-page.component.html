<div fxLayout="column" fxLayoutAlign="start stretch" class='mainStatistics'>
    <div fxLayout="row" fxLayoutAlign="space-between center" >
         <!--Date range -->
    <form [formGroup]="form">
        <mat-form-field>
          <input matInput placeholder="Choose date range" [satDatepicker]="picker2" formControlName="date"
            (ngModelChange)="filterData()">
          <sat-datepicker #picker2 [rangeMode]="true" (closed)="filterData()">
          </sat-datepicker>
          <sat-datepicker-toggle matSuffix [for]="picker2"></sat-datepicker-toggle>
        </mat-form-field>
      </form>
  
      <!--selected with multiSelect-->
      <mat-form-field>
        <mat-label>Choose clusters</mat-label>
        <mat-select required multiple [(value)]="selectedProduct" (selectionChange)='filterData()'>
          <mat-option *ngFor="let product of (productsTrends$ | async)" [value]="product">{{product}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    
    <mat-card>
        <mat-card-header>
            <mat-card-title>Statistics {{ selectedProduct }}</mat-card-title>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content>
            <canvas baseChart width="100" height="40"
                [datasets]="(trendsData$ | async)"
                [labels]="lineChartLabels"
                [options]="lineChartOptions"
                [colors]="lineChartColors"
                [legend]="lineChartLegend"
                [chartType]="lineChartType"
                [plugins]="lineChartPlugins"></canvas>
        </mat-card-content>
    </mat-card>
</div>